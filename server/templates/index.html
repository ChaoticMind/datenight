<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- favicon -->
	<link rel="icon" href="img/favicon.ico"/>

	<!-- bootstrap -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-CuOF+2SnTUfTwSZjCXf01h7uYhfOBuxIhGKPbfEJ3+FqH/s6cIFN9bGr1HmAg4fQ" crossorigin="anonymous">

	<!-- css -->
	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style.css') }}"/>

	<!-- socket.io -->
<!--
	<script type="application/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.4.5/socket.io.min.js"></script>
-->
	<script src="{{ url_for('static', filename='js/lib/socket.io.min.js') }}" type="application/javascript"></script>

	<title>Datenight</title>
</head>
<body>
	<div id="container" class='container-fluid'>
		<h2>Datenight dashboard</h2>

		<div class="row">
			<div class="col-md-2 offset-md-3">
				<div id="current-state-text" class="text-primary"></div>
			</div>
		</div>

		<div class="row">
			<div class="col-sm-12">
				<div id="subscribers_info"></div>
			</div>
		</div>

		<div class="row">
			<div class="col-sm-12">
				<div id='publishers_info'></div>
			</div>
		</div>

		<div class="row my-3">
			<div class="col-sm-2">
				Poor man's chat:
			</div>
			<div class="col-sm-9">
				<form id="broadcast" action='#'>
					<input type="text" name="broadcast_data" id="broadcast-data" placeholder="/help or message" autofocus>
					<button id="send-broadcast" type="submit" class="btn btn-outline-primary btn-sm">Broadcast</button>
				</form>
			</div>
		</div>

		<div class="row my-1">
			<div class="col-sm-12">
				<button id="current-state-btn" class="btn btn-outline-success">?</button>
			</div>
		</div>

		<div class="row my-1">
			<div class="col-sm-12">
				<button id="clear" class="btn btn-outline-info">Clear log</button>
			</div>
		</div>

		<div class="row mt-3">
			<div class="col-sm-12">
				<div id="log"></div>
			</div>
		</div>

		<div class="modal fade" id="help-screen">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h4 class="modal-title">I want more features!</h4>
						<button type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></button>
					</div>
					<div class="modal-body">
						<div>Type <mark>/help</mark> in the message box for a list of commands.</div>
						<hr/>
						<h5 class="mb-3">I would like to:</h5>
						<dl class="row">
							<dt class="col-sm-4 my-2">Have audio/video chat</dt>
							<dd class="col-sm-8">We recommend using Mumble or a WebRTC implementation such as Jitsi or talky.io</dd>
							<dt class="col-sm-4 my-2">Have a better chat</dt>
							<dd class="col-sm-8">We recommend using XMPP w/OMEMO or Signal</dd>
							<dt class="col-sm-4 my-2">Share media</dt>
							<dd class="col-sm-8">We recommend using Mega, OnionShare, wormhole, or <span class="font-monospace">`python -m http`</span></dd>
							<!--
							<dt>watch online media</dt><dd>We recommend downloading the media with youtube-dl</dd>
							-->
						</dl>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div id="help-toggle" class="position-fixed fs-5" data-toggle="modal" data-target="#help-screen">
		<a href="#" tabindex="-1">?</a>
	</div>
	<footer></footer>

	<!-- bootstrap js -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha3/dist/js/bootstrap.min.js" integrity="sha384-t6I8D5dJmMXjCsRLhSzCltuhNZg6P10kE0m0nAncLUjH6GeYLhRU1zfLoW3QNQDF" crossorigin="anonymous"></script>

	<!-- js -->
	<script src="{{ url_for('static', filename='js/util.js') }}" type="application/javascript"></script>
	<script src="{{ url_for('static', filename='js/datenight.js') }}" type="application/javascript"></script>
</body>
</html>
